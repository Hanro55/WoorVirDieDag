<!DOCTYPE html>
<html lang="af">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Woord van die Dag ðŸ‡¿ðŸ‡¦</title>
<style>
  /* Algemene styl */
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    background: #f3f4f6;
    color: #333;
    overflow-x: hidden;
  }

  h1, h2, h3 {
    text-align: center;
  }

  /* Hamburger menu knop */
  #hamburger {
    position: fixed;
    top: 15px;
    left: 15px;
    width: 35px;
    height: 30px;
    cursor: pointer;
    z-index: 2000;
  }
  #hamburger div {
    background-color: #333;
    height: 4px;
    margin: 5px 0;
    border-radius: 2px;
  }

  /* Sidebar */
  #sidebar {
    position: fixed;
    top: 0; left: 0;
    width: 280px;
    height: 100vh;
    background-color: #fff;
    box-shadow: 2px 0 12px rgba(0,0,0,0.15);
    transform: translateX(-100%);
    transition: transform 0.3s ease;
    overflow-y: auto;
    padding: 20px;
    z-index: 1500;
  }
  #sidebar.open {
    transform: translateX(0);
  }
  #close-sidebar {
    font-size: 30px;
    border: none;
    background: none;
    cursor: pointer;
    display: block;
    margin-left: auto;
    margin-bottom: 10px;
  }

  /* Sidebar inhoud */
  #sidebar h2 {
    margin-top: 0;
  }
  #sidebar p {
    margin: 6px 0;
  }
  #sidebar button {
    width: 100%;
    margin: 8px 0;
    padding: 10px;
    font-size: 1rem;
    cursor: pointer;
    border-radius: 8px;
    border: none;
    background-color: #6aaa64;
    color: white;
    transition: background-color 0.3s ease;
  }
  #sidebar button:hover {
    background-color: #519e50;
  }

/* Statistiek staafgrafieke */
#distribution-bars div.bar,
#distribution-bars-modal div.bar {
  background-color: #6aaa64;
  color: white;
  padding: 4px 8px;
  margin: 6px 0;
  border-radius: 12px;
  font-size: 0.85rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}


  /* Woorde lys */
  #woord-lys {
    max-height: 130px;
    overflow-y: auto;
    padding: 5px 0;
    border: 1px solid #ddd;
    border-radius: 10px;
    background: #fafafa;
  }
  #woord-lys span {
    display: inline-block;
    background: #ddd;
    margin: 3px 5px;
    padding: 5px 10px;
    border-radius: 15px;
    font-weight: 600;
    user-select: none;
  }

  /* Bord van raaiskote */
  #board {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 10px;
    max-width: 350px;
    margin: 80px auto 20px auto;
  }
  .tile {
    width: 60px;
    height: 60px;
    border: 2px solid #ccc;
    border-radius: 12px;
    font-size: 2rem;
    font-weight: bold;
    text-transform: uppercase;
    display: flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    background-color: white;
  }
  .correct {
    background-color: #6aaa64;
    color: white;
    border: none;
  }
  .present {
    background-color: #c9b458;
    color: white;
    border: none;
  }
  .absent {
    background-color: #787c7e;
    color: white;
    border: none;
  }

  /* Invoer veld en knoppie */
  #guess-input {
    width: 320px;
    max-width: 90vw;
    font-size: 1.3rem;
    padding: 12px;
    border-radius: 12px;
    border: 2px solid #ccc;
    text-transform: uppercase;
    margin: 10px auto;
    display: block;
    letter-spacing: 8px;
    text-align: center;
  }
  #submit-btn {
    display: block;
    margin: 10px auto 30px auto;
    padding: 12px 24px;
    font-size: 1.2rem;
    background-color: #6aaa64;
    border: none;
    border-radius: 12px;
    color: white;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #submit-btn:disabled {
    background-color: #a5d6a7;
    cursor: not-allowed;
  }
  #submit-btn:hover:not(:disabled) {
    background-color: #519e50;
  }

  /* Sleutelbord */
  #keyboard {
    max-width: 350px;
    margin: 0 auto 30px auto;
    display: grid;
    grid-template-columns: repeat(10, 1fr);
    gap: 8px;
    user-select: none;
  }
  .key {
    padding: 12px 0;
    border-radius: 8px;
    background-color: #ddd;
    font-weight: 700;
    cursor: pointer;
    text-transform: uppercase;
    font-size: 1rem;
    user-select: none;
  }
  .key.correct {
    background-color: #6aaa64;
    color: white;
  }
  .key.present {
    background-color: #c9b458;
    color: white;
  }
  .key.absent {
    background-color: #787c7e;
    color: white;
  }
  .key.special {
    grid-column: span 2;
    background-color: #6aaa64;
    color: white;
  }

  /* Boodskap */
  #message {
    text-align: center;
    font-weight: 700;
    font-size: 1.2rem;
    min-height: 30px;
    color: #b00020;
  }

  /* Deel-knoppies onder die inset */
  #share-row { text-align: center; margin: 8px auto 20px auto; }
  .action-btn {
  padding: 10px 14px; border: none; border-radius: 8px;
  background-color: #6aaa64; color: #fff; cursor: pointer; margin: 4px 6px;
  }
  .action-btn:disabled { 
  background-color: #a5d6a7; cursor: not-allowed; 
  }

  /* Modal style */
  #stats-modal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.5);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 3000;
  }
  #stats-modal.open {
    display: flex;
  }
  #stats-modal .modal-content {
    background: white;
    padding: 20px 25px;
    border-radius: 12px;
    max-width: 400px;
    width: 90vw;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
    font-size: 1rem;
  }
  #stats-modal .close-btn {
    position: absolute;
    top: 12px;
    right: 16px;
    background: none;
    border: none;
    font-size: 28px;
    cursor: pointer;
    color: #555;
  }
  #stats-modal h2 {
    margin-top: 0;
    margin-bottom: 15px;
    text-align: center;
  }
</style>
</head>
<body>

<!-- Hamburger menu -->
<div id="hamburger" aria-label="Menu" role="button" tabindex="0" aria-expanded="false" aria-controls="sidebar">
  <div></div><div></div><div></div>
</div>

<!-- Sidebar -->
<aside id="sidebar" aria-hidden="true">
  <button id="close-sidebar" aria-label="Sluit menu">&times;</button>
  <h2>Statistiek</h2>
  <p>Gespeel: <span id="total-played">0</span></p>
  <p>Wenkoers: <span id="win-rate">0%</span></p>
  <p>Huidige streek: <span id="current-streak">0</span></p>
  <p>Langste streek: <span id="best-streak">0</span></p>
  <p>Laas gespeel: <span id="last-play-date">Nog nie</span></p>

  <div id="distribution-bars"></div>

  <h3>Woorde in lys</h3>
  <div id="woord-lys"></div>
  
  <button id="practice-btn">Oefen vorige dae</button>
  <button id="export-btn">Voer Statistiek Uit</button>
  <button id="import-btn">Voer Statistiek In</button>
</aside>

<!-- Titel -->
<h2>Woord van die Dag ðŸ‡¿ðŸ‡¦ </h2>

<!-- Bord -->
<div id="board" aria-label="Raaiskoot bord"></div>

<!-- Invoer -->
<input id="guess-input" maxlength="5" placeholder="Tik 5-letter woord" aria-label="Tik jou raaiskoot hier" autocomplete="off" />
<button id="submit-btn" aria-label="Voer raaiskoot in">Voer in</button>

<div id="message" role="alert" aria-live="assertive"></div>
<div id="share-row">
  <button id="share-btn" class="action-btn" disabled>ðŸ“‹ Deel jou poging</button>
  <button id="wa-share-btn" class="action-btn" disabled>ðŸ’¬ WhatsApp</button>
</div>
  

<!-- Sleutelbord -->
<div id="keyboard" aria-label="Virtuele sleutelbord"></div>

<!-- Modal vir statistiek -->
<div id="stats-modal" role="dialog" aria-modal="true" aria-labelledby="stats-title" tabindex="-1">
  <div class="modal-content">
    <button class="close-btn" aria-label="Sluit statistiek">&times;</button>
    <h2 id="stats-title">Jou Statistiek</h2>
    <div id="stats-summary"></div>
    <div id="distribution-bars-modal"></div>
    <button id="copy-results">ðŸ“‹ Deel jou resultate</button>
    <button id="whatsapp-share">ðŸ’¬ Deel via WhatsApp</button>
  </div>
</div>
<script>
(() => {
  "use strict";

  // --- Konfig --- 
  const maxGuesses = 6;
  const wordLength = 5;

  // --- Woordlys (joune) ---
  const woordlys = [
    "afrik", "beter", "klein", "woord", "speel", "skryf", "huisn", "vandag", "klank",
    "smaak", "maanl", "vraas", "ligte", "vlugte", "stuur", "kykna", "blywe", "groot", "dinge", "skool"
  ];

  // Net 5-letter woorde vir target Ã©n validasie
  const WORDS5 = woordlys.filter(w => w.length === wordLength);

  // --- Seeded shuffle --- 
  function seededRandom(seed) {
    let x = Math.sin(seed) * 10000;
    return x - Math.floor(x);
  }
  function shuffleArraySeeded(arr, seed) {
    let a = arr.slice();
    for (let i = a.length - 1; i > 0; i--) {
      const j = Math.floor(seededRandom(seed + i) * (i + 1));
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  }
  function kryVandagWoord() {
    const vandag = new Date();
    const mm = String(vandag.getMonth() + 1).padStart(2, "0");
    const dd = String(vandag.getDate()).padStart(2, "0");
    const datumString = `${vandag.getFullYear()}-${mm}-${dd}`;
    let seed = 0;
    for (let i = 0; i < datumString.length; i++) {
      seed += datumString.charCodeAt(i);
    }
    const geskommelde = shuffleArraySeeded(WORDS5, seed);
    return geskommelde[0] || "woord"; // fallback
  }

  const teikenWoord = kryVandagWoord();

  // --- DOM ---
  const board = document.getElementById("board");
  const guessInput = document.getElementById("guess-input");
  const submitBtn = document.getElementById("submit-btn");
  const message = document.getElementById("message");
  const keyboard = document.getElementById("keyboard");
  const sidebar = document.getElementById("sidebar");
  const hamburger = document.getElementById("hamburger");
  const closeSidebarBtn = document.getElementById("close-sidebar");
  const practiceBtn = document.getElementById("practice-btn");
  const exportBtn = document.getElementById("export-btn");
  const importBtn = document.getElementById("import-btn");
  const statsModal = document.getElementById("stats-modal");
  const statsCloseBtn = statsModal.querySelector(".close-btn");
  const statsSummary = document.getElementById("stats-summary");
  const distributionBarsModal = document.getElementById("distribution-bars-modal");
  const copyResultsBtn = document.getElementById("copy-results");
  const whatsappShareBtn = document.getElementById("whatsapp-share");
  const shareBtn = document.getElementById("share-btn");
  const waShareBtn = document.getElementById("wa-share-btn");
  const totalPlayedUI = document.getElementById("total-played");
  const winRateUI = document.getElementById("win-rate");
  const currentStreakUI = document.getElementById("current-streak");
  const bestStreakUI = document.getElementById("best-streak");
  const lastPlayDateUI = document.getElementById("last-play-date");
  const woordLysUI = document.getElementById("woord-lys");

  // --- Speltoestand ---
  let guesses = [];
  let stats = {
    total: 0,
    wins: 0,
    currentStreak: 0,
    bestStreak: 0,
    lastPlayDate: null,
    distribution: {}
  };

  // --- Maak die raaiskoot bord ---
  function createBoard() {
    board.innerHTML = "";
    for (let i = 0; i < maxGuesses * wordLength; i++) {
      const tile = document.createElement("div");
      tile.classList.add("tile");
      tile.setAttribute("aria-hidden", "true");
      board.appendChild(tile);
    }
  }

  // --- Render die bord met huidige raaiskote ---
  function renderBoard() {
    const tiles = board.querySelectorAll(".tile");
    for (let i = 0; i < maxGuesses; i++) {
      const guess = guesses[i] || "";
      for (let j = 0; j < wordLength; j++) {
        const idx = i * wordLength + j;
        const tile = tiles[idx];
        const letter = guess[j] || "";
        tile.textContent = letter.toUpperCase();
        tile.classList.remove("correct", "present", "absent");
        if (i < guesses.length) {
          const grades = gradeGuess(guess, teikenWoord);
          if (grades[j]) {
            tile.classList.add(grades[j]);
          }
        }
      }
    }
  }

  // --- Grade 'n raaiskoot ---
  function gradeGuess(guess, target) {
    let result = Array(wordLength).fill("absent");
    let targetArr = target.split("");
    let guessArr = guess.split("");

    // Eerste: merk korrekte letters
    for (let i = 0; i < wordLength; i++) {
      if (guessArr[i] === targetArr[i]) {
        result[i] = "correct";
        targetArr[i] = null;
        guessArr[i] = null;
      }
    }

    // Dan: merk letters wat teenwoordig is maar verkeerd plek
    for (let i = 0; i < wordLength; i++) {
      if (guessArr[i] !== null) {
        const idx = targetArr.indexOf(guessArr[i]);
        if (idx > -1) {
          result[i] = "present";
          targetArr[idx] = null;
        }
      }
    }
    return result;
  }

  // --- Maak die virtuele sleutelbord ---
  function createKeyboard() {
    const letters = "QWERTYUIOPASDFGHJKLZXCVBNM";
    keyboard.innerHTML = "";
    for (const letter of letters) {
      const key = document.createElement("button");
      key.classList.add("key");
      key.textContent = letter;
      key.setAttribute("aria-label", letter);
      key.addEventListener("click", () => handleKey(letter));
      keyboard.appendChild(key);
    }
    // Voeg spesiale knoppies vir delete en enter
    const delKey = document.createElement("button");
    delKey.classList.add("key", "special");
    delKey.textContent = "DEL";
    delKey.setAttribute("aria-label", "Verwyder");
    delKey.addEventListener("click", handleDelete);
    keyboard.appendChild(delKey);

    const enterKey = document.createElement("button");
    enterKey.classList.add("key", "special");
    enterKey.textContent = "ENTER";
    enterKey.setAttribute("aria-label", "Voer in");
    enterKey.addEventListener("click", handleSubmit);
    keyboard.appendChild(enterKey);
  }

  // --- Update die sleutelbord kleure na gradeer ---
  function updateKeyboard() {
    const keys = keyboard.querySelectorAll(".key");
    const gradesByLetter = {};
    for (const guess of guesses) {
      const grades = gradeGuess(guess, teikenWoord);
      for (let i = 0; i < wordLength; i++) {
        const letter = guess[i].toUpperCase();
        const grade = grades[i];
        if (!gradesByLetter[letter] || gradesByLetter[letter] === "absent") {
          gradesByLetter[letter] = grade;
        } else if (gradesByLetter[letter] === "present" && grade === "correct") {
          gradesByLetter[letter] = "correct";
        }
      }
    }
    for (const key of keys) {
      key.classList.remove("correct", "present", "absent");
      const grade = gradesByLetter[key.textContent];
      if (grade) {
        key.classList.add(grade);
      }
    }
  }

  // --- Hanteer sleutelbord kliek ---
  function handleKey(letter) {
    if (guesses.length >= maxGuesses) return;
    if (guessInput.value.length >= wordLength) return;
    guessInput.value += letter.toLowerCase();
    toggleSubmitState();
  }
  function handleDelete() {
    guessInput.value = guessInput.value.slice(0, -1);
    toggleSubmitState();
  }

  // --- Skakel submit knoppie aan/af afhangend van lengte ---
  function toggleSubmitState() {
    submitBtn.disabled = guessInput.value.length !== wordLength;
  }

  // --- Hanteer submit ---
  function handleSubmit() {
    if (guesses.length >= maxGuesses) return;
    const guess = guessInput.value.toLowerCase();
    if (!WORDS5.includes(guess)) {
      showMessage("Ongeldige woord, probeer weer.");
      return;
    }
    guesses.push(guess);
    guessInput.value = "";
    toggleSubmitState();
    renderBoard();
    updateKeyboard();
    checkWinOrLose();
    enableShareButtons(guesses.length > 0);
    saveGameToStorage();
  }

  // --- Wys boodskap --- 
  function showMessage(msg) {
    message.textContent = msg;
    setTimeout(() => {
      if (message.textContent === msg) {
        message.textContent = "";
      }
    }, 3000);
  }

  // --- Kontroleer of speler gewen of verloor ---
  function checkWinOrLose() {
    const lastGuess = guesses[guesses.length - 1];
    if (lastGuess === teikenWoord) {
      updateStats(true);
      showMessage("Jy het gewen! ðŸŽ‰");
      guessInput.disabled = true;
      submitBtn.disabled = true;
      return;
    }
    if (guesses.length >= maxGuesses) {
      updateStats(false);
      showMessage(`Jy het verloor! Die woord was: ${teikenWoord.toUpperCase()}`);
      guessInput.disabled = true;
      submitBtn.disabled = true;
    }
  }

  // --- Statistiek update ---
  function updateStats(win) {
    stats.total++;
    if (win) {
      stats.wins++;
      stats.currentStreak++;
      if (stats.currentStreak > stats.bestStreak) {
        stats.bestStreak = stats.currentStreak;
      }
      stats.distribution[guesses.length] = (stats.distribution[guesses.length] || 0) + 1;
    } else {
      stats.currentStreak = 0;
    }
    stats.lastPlayDate = new Date().toLocaleDateString();
    saveStatsToStorage();
    updateSidebarStatsUI();
  }

  // --- Stoor en laai ---
  function saveStatsToStorage() {
    localStorage.setItem("wvdStats", JSON.stringify(stats));
  }
  function loadStatsFromStorage() {
    const saved = localStorage.getItem("wvdStats");
    if (saved) {
      try {
        stats = JSON.parse(saved);
      } catch { }
    }
  }
  function saveGameToStorage() {
    localStorage.setItem("wvdGuesses", JSON.stringify(guesses));
  }
  function loadGameFromStorage() {
    const saved = localStorage.getItem("wvdGuesses");
    if (saved) {
      try {
        guesses = JSON.parse(saved);
      } catch { }
    }
  }

  // --- Update UI in sidebar met stats ---
  function updateSidebarStatsUI() {
    totalPlayedUI.textContent = stats.total;
    winRateUI.textContent = (stats.total > 0)
      ? Math.round(Math.min(stats.wins, stats.total) / stats.total * 100) + "%"
      : "0%";
    currentStreakUI.textContent = stats.currentStreak;
    bestStreakUI.textContent = stats.bestStreak;
    lastPlayDateUI.textContent = stats.lastPlayDate || "Nog nie";

    // Wys verdeling
    const distContainer = document.getElementById("distribution-bars");
    distContainer.innerHTML = "";
    const vals = Object.values(stats.distribution);
    const maxCount = Math.max(1, ...(vals.length ? vals : [0]));
    for (let i = 1; i <= maxGuesses; i++) {
      const count = stats.distribution[i] || 0;
      const widthPct = Math.max(8, (count / maxCount) * 100);
      const bar = document.createElement("div");
      bar.className = "bar";
      bar.style.width = widthPct + "%";
      bar.textContent = `${i} poging(s): ${count}`;
      distContainer.appendChild(bar);
    }
  }

  // --- Wys woordlys ---
  function updateSidebarWoorde() {
    woordLysUI.innerHTML = "";
    for (const woord of WORDS5) {
      const span = document.createElement("span");
      span.textContent = woord.toUpperCase();
      woordLysUI.appendChild(span);
    }
  }

  // --- Deel resultate ---
  function getResultText() {
    let result = `Woord van die Dag ðŸ‡¿ðŸ‡¦\nPogings: ${guesses.length}/${maxGuesses}\n\n`;
    guesses.forEach(g => {
      const grades = gradeGuess(g, teikenWoord);
      let line = "";
      for (let s of grades) {
        line += (s === "correct") ? "ðŸŸ©" : (s === "present") ? "ðŸŸ¨" : "â¬œ";
      }
      result += line + "\n";
    });
    result += `\nSpeel Woord van die Dag elke dag!`;
    return result;
  }

  // --- Deel na klembord ---
  function shareToClipboard() {
    const resultText = getResultText();
    navigator.clipboard.writeText(resultText).then(() => {
      alert("Resultate gekopieer na jou knipbord!");
    }).catch(() => {
      alert("KopiÃ«er misluk, probeer weer.");
    });
  }

  // --- Deel na WhatsApp ---
  function shareToWhatsApp() {
    const resultText = encodeURIComponent(getResultText());
    window.open(`https://wa.me/?text=${resultText}`, "_blank");
  }

  // --- Gebeurtenisse --- 
  submitBtn.addEventListener("click", handleSubmit);
  guessInput.addEventListener("input", toggleSubmitState);
  guessInput.addEventListener("keydown", e => {
    if (e.key === "Enter") handleSubmit();
  });

  // --- Hamburger menu --- 
  function openSidebar() {
    sidebar.classList.add("open");
    sidebar.setAttribute("aria-hidden", "false");
    hamburger.setAttribute("aria-expanded", "true");
  }
  function closeSidebar() {
    sidebar.classList.remove("open");
    sidebar.setAttribute("aria-hidden", "true");
    hamburger.setAttribute("aria-expanded", "false");
  }
  hamburger.addEventListener("click", () => {
    sidebar.classList.contains("open") ? closeSidebar() : openSidebar();
  });
  hamburger.addEventListener("keydown", e => {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      hamburger.click();
    }
  });
  closeSidebarBtn.addEventListener("click", closeSidebar);

  // --- Deel knoppies ---
  copyResultsBtn.addEventListener("click", shareToClipboard);
  whatsappShareBtn.addEventListener("click", shareToWhatsApp);
  shareBtn.addEventListener("click", shareToClipboard);
  waShareBtn.addEventListener("click", shareToWhatsApp);

  // --- Modal ---
  practiceBtn.addEventListener("click", () => {
    closeSidebar();
    statsModal.classList.add("open");
    statsModal.focus();
    updateStatsModal();
  });
  statsCloseBtn.addEventListener("click", () => {
    statsModal.classList.remove("open");
  });
  statsModal.addEventListener("click", e => {
    if (e.target === statsModal) statsModal.classList.remove("open");
  });
  window.addEventListener("keydown", e => {
    if (e.key === "Escape" && statsModal.classList.contains("open")) {
      statsModal.classList.remove("open");
    }
  });

  function updateStatsModal() {
    statsSummary.innerHTML = `
      <p>Gespeel: ${stats.total}</p>
      <p>Wenkoers: ${
        (stats.total > 0)
        ? Math.round((Math.min(stats.wins || 0, stats.total || 0) / stats.total) * 100) + "%"
        : "0%"
      }</p>
      <p>Huidige streek: ${stats.currentStreak}</p>
      <p>Langste streek: ${stats.bestStreak}</p>
      <p>Laas gespeel: ${stats.lastPlayDate || "Nog nie"}</p>
    `;

    distributionBarsModal.innerHTML = "";
    const vals = Object.values(stats.distribution);
    const maxCount = Math.max(1, ...(vals.length ? vals : [0]));
    for (let i = 1; i <= maxGuesses; i++) {
      const count = stats.distribution[i] || 0;
      const widthPct = Math.max(8, (count / maxCount) * 100);
      const bar = document.createElement("div");

      bar.className = "bar";
      bar.style.width = widthPct + "%";
      bar.textContent = `${i} poging(s): ${count}`;
      distributionBarsModal.appendChild(bar);
    }
  }

  // --- Import/Export --- 
  exportBtn.addEventListener("click", () => {
    const dataStr = JSON.stringify(stats, null, 2);
    alert("Kopieer jou statistiek data:\n\n" + dataStr);
  });
  importBtn.addEventListener("click", () => {
    const input = prompt("Plak jou statistiek data hier:");
    if (input) {
      try {
        const imported = JSON.parse(input);
        if (imported && typeof imported === "object") {
          stats = imported;
          saveStatsToStorage();
          updateSidebarStatsUI();
          alert("Statistiek suksesvol ingevoer!");
        } else {
          alert("Ongeldige data.");
        }
      } catch {
        alert("Kon nie data verwerk nie.");
      }
    }
  });

  // --- Init ---
  function init() {
    loadStatsFromStorage();
    loadGameFromStorage();
    createBoard();
    renderBoard();
    createKeyboard();
    updateKeyboard();
    updateSidebarStatsUI();
    updateSidebarWoorde();
    toggleSubmitState();
    guessInput.focus();
  }
  init();
  enableShareButtons(guesses.length > 0);

  // --- Skakel share knoppies aan/af ---
  function enableShareButtons(enable) {
    shareBtn.disabled = !enable;
    waShareBtn.disabled = !enable;
  }

})();
</script>
</body>
</html>
